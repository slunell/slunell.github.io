<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Boxes</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/color/jquery.color.plus-names-2.1.2.min.js" integrity="sha256-Wp3wC/dKYQ/dCOUD7VUXXp4neLI5t0uUEF1pg0dFnAE=" crossorigin="anonymous"></script>

    <style>
        *,
        *:before,
        *:after {
            box-sizing: border-box;
        }

        #outer-container {
            display: flex;
            align-items: center;
            width: 100%;
            height: 100%;
        }

        #container {
            width: 50%;
            height: 50%;
            margin: 0 auto;
            background-color: #d7e1f2;
            overflow: hidden;
        }

        #container:hover {
            cursor: pointer;
        }

        .box {
            display: flex;
            flex-grow: 0;
            flex-shrink: 0;
            width: 50%;
            height: 50%;
            flex-wrap: wrap;
        }

        html {
            height: 100%;
        }

        body {
            height: 100%;
            background-color: black;
        }
    </style>
</head>

<body scrolling="no">

    <div id="outer-container">
        <div id="container" class="box"></div>
    </div>

    <script>
        $(document).ready(function() {

            $("#outer-container").on("click", function(e) {
                if (!e.target.matches('.box')) {
                    return;
                }

                var node = document.createElement('div');
                node.className = "box one";
                e.target.appendChild(node);

                node = document.createElement('div');
                node.className = "box two";
                e.target.appendChild(node);

                node = document.createElement('div');
                node.className = "box three";
                e.target.appendChild(node);

                node = document.createElement('div');
                node.className = "box four";
                e.target.appendChild(node);

                $(".one").animate({
                    backgroundColor: random_rgb()
                }, 400);

                $(".two").animate({
                    backgroundColor: random_rgb()
                }, 400);

                $(".three").animate({
                    backgroundColor: random_rgb()
                }, 400);

                $(".four").animate({
                    backgroundColor: random_rgb()
                }, 400);


            });

            var width = window.innerWidth;
            var height = window.innerHeight;

            var length = Math.min(width, height);

            $("#container").height(length * .8);
            $("#container").width(length * .8);

            $(window).resize(function() {

                var width = window.innerWidth;
                var height = window.innerHeight;

                var length = Math.min(width, height);

                $("#container").height(length * .8);
                $("#container").width(length * .8);
            }).resize();


        });

        function random_rgb() {
            var o = Math.round,
                r = Math.random,
                s = 255;
            return 'rgb(' + o(r() * s) + ',' + o(r() * s) + ',' + o(r() * s) + ')';
        }
    </script>



</body>

</html>
